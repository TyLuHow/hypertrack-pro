<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HyperTrack Pro - Test</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(135deg, #0f172a, #1e293b);
            color: #f8fafc;
            margin: 0;
            padding: 20px;
            min-height: 100vh;
        }
        .test-container {
            max-width: 600px;
            margin: 0 auto;
            background: #2a2c2f;
            border-radius: 16px;
            padding: 30px;
            border: 1px solid #374151;
        }
        .test-item {
            margin-bottom: 20px;
            padding: 15px;
            background: #334155;
            border-radius: 8px;
        }
        .status {
            font-weight: bold;
            margin-left: 10px;
        }
        .pass { color: #10b981; }
        .fail { color: #ef4444; }
        .btn {
            background: linear-gradient(135deg, #1b4e4e, #2c5f5f);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            margin: 5px;
        }
        .btn:hover {
            transform: translateY(-1px);
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>üèãÔ∏è HyperTrack Pro - Diagnostic Test</h1>
        
        <div class="test-item">
            <strong>1. CSS Loading:</strong>
            <span class="status" id="css-status">Testing...</span>
        </div>
        
        <div class="test-item">
            <strong>2. JavaScript Loading:</strong>
            <span class="status" id="js-status">Testing...</span>
        </div>
        
        <div class="test-item">
            <strong>3. Tyler Data Integration:</strong>
            <span class="status" id="data-status">Testing...</span>
        </div>
        
        <div class="test-item">
            <strong>4. Local Storage:</strong>
            <span class="status" id="storage-status">Testing...</span>
        </div>
        
        <div class="test-item">
            <strong>5. Service Worker:</strong>
            <span class="status" id="sw-status">Testing...</span>
        </div>
        
        <div class="test-item">
            <button class="btn" onclick="testBasicFunctionality()">Test Basic Functions</button>
            <button class="btn" onclick="window.location.href='index.html'">Go to Main App</button>
        </div>
        
        <div id="console-output" style="background: #1e293b; padding: 15px; border-radius: 8px; margin-top: 20px; font-family: monospace; font-size: 14px;">
            <strong>Console Output:</strong><br>
            <div id="log"></div>
        </div>
    </div>

    <script>
        function log(message) {
            const logDiv = document.getElementById('log');
            logDiv.innerHTML += new Date().toLocaleTimeString() + ': ' + message + '<br>';
        }
        
        function setStatus(id, status, message) {
            const el = document.getElementById(id);
            el.className = `status ${status}`;
            el.textContent = message;
        }
        
        // Test CSS
        const testDiv = document.createElement('div');
        testDiv.style.background = 'linear-gradient(135deg, #1b4e4e, #2c5f5f)';
        if (testDiv.style.background) {
            setStatus('css-status', 'pass', '‚úÖ CSS Features Working');
            log('CSS gradient support detected');
        } else {
            setStatus('css-status', 'fail', '‚ùå CSS Issues Detected');
            log('CSS gradient support missing');
        }
        
        // Test JavaScript
        try {
            const testArray = [1, 2, 3].map(x => x * 2);
            if (testArray.length === 3) {
                setStatus('js-status', 'pass', '‚úÖ JavaScript Working');
                log('JavaScript ES6 features working');
            }
        } catch (e) {
            setStatus('js-status', 'fail', '‚ùå JavaScript Error: ' + e.message);
            log('JavaScript error: ' + e.message);
        }
        
        // Test Local Storage
        try {
            localStorage.setItem('test', 'value');
            const value = localStorage.getItem('test');
            localStorage.removeItem('test');
            if (value === 'value') {
                setStatus('storage-status', 'pass', '‚úÖ Local Storage Working');
                log('Local Storage access confirmed');
            }
        } catch (e) {
            setStatus('storage-status', 'fail', '‚ùå Storage Error: ' + e.message);
            log('Local Storage error: ' + e.message);
        }
        
        // Test Service Worker
        if ('serviceWorker' in navigator) {
            setStatus('sw-status', 'pass', '‚úÖ Service Worker Supported');
            log('Service Worker API available');
        } else {
            setStatus('sw-status', 'fail', '‚ùå Service Worker Not Supported');
            log('Service Worker API not available');
        }
        
        // Load Tyler data integration
        const script1 = document.createElement('script');
        script1.src = 'tyler-data-integration.js';
        script1.onload = function() {
            if (typeof tylerCompleteWorkouts !== 'undefined') {
                setStatus('data-status', 'pass', '‚úÖ Tyler Data Loaded (' + tylerCompleteWorkouts.length + ' workouts)');
                log('Tyler data integration successful');
            } else {
                setStatus('data-status', 'fail', '‚ùå Tyler Data Not Found');
                log('Tyler data integration failed');
            }
        };
        script1.onerror = function() {
            setStatus('data-status', 'fail', '‚ùå Tyler Data Script Failed to Load');
            log('Tyler data script loading failed');
        };
        document.head.appendChild(script1);
        
        function testBasicFunctionality() {
            log('Running basic functionality tests...');
            
            // Test DOM manipulation
            try {
                const testEl = document.createElement('div');
                testEl.textContent = 'Test';
                log('‚úÖ DOM manipulation working');
            } catch (e) {
                log('‚ùå DOM manipulation error: ' + e.message);
            }
            
            // Test event handling
            try {
                const btn = document.createElement('button');
                btn.addEventListener('click', () => {});
                log('‚úÖ Event handling working');
            } catch (e) {
                log('‚ùå Event handling error: ' + e.message);
            }
            
            // Test fetch API
            if (typeof fetch !== 'undefined') {
                log('‚úÖ Fetch API available');
            } else {
                log('‚ùå Fetch API not available');
            }
            
            log('Basic functionality test complete');
        }
        
        log('Diagnostic page loaded successfully');
    </script>
</body>
</html>