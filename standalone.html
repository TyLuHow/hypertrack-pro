<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HyperTrack Pro - Standalone</title>
    <style>
        /* Reset and Base */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            color: #f8fafc;
            line-height: 1.6;
            min-height: 100vh;
        }

        .app {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* Header */
        .header {
            background: linear-gradient(135deg, #1b4e4e, #2c5f5f);
            padding: 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
        }

        .header-content {
            text-align: center;
            flex: 1;
        }

        .app-title {
            font-size: 28px;
            font-weight: 800;
            margin-bottom: 4px;
            color: white;
        }

        .app-subtitle {
            font-size: 14px;
            opacity: 0.9;
            color: white;
        }

        .settings-btn {
            background: rgba(255, 255, 255, 0.1);
            border: none;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: background 0.2s;
        }

        .settings-btn:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        /* Research Banner */
        .research-banner {
            background: #2a2c2f;
            border-bottom: 1px solid #374151;
            padding: 16px 20px;
        }

        .research-content {
            display: flex;
            align-items: center;
            gap: 12px;
            max-width: 600px;
            margin: 0 auto;
        }

        .research-text {
            font-size: 14px;
            color: #cbd5e1;
            margin: 0;
        }

        /* Main Content */
        .main-content {
            flex: 1;
            padding: 20px;
            padding-bottom: 100px;
            max-width: 800px;
            margin: 0 auto;
            width: 100%;
        }

        /* Tabs */
        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        /* Welcome Card */
        .welcome-card {
            text-align: center;
            background: linear-gradient(135deg, #2a2c2f, #334155);
            border: 1px solid #374151;
            border-radius: 16px;
            padding: 40px 24px;
            margin-bottom: 24px;
        }

        .welcome-card h2 {
            font-size: 24px;
            margin-bottom: 12px;
            color: #f8fafc;
        }

        .welcome-card p {
            color: #cbd5e1;
            margin-bottom: 24px;
            font-size: 16px;
        }

        /* Buttons */
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            padding: 12px 20px;
            border: none;
            border-radius: 12px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            text-decoration: none;
            min-height: 44px;
        }

        .btn-large {
            padding: 16px 32px;
            font-size: 16px;
            min-height: 52px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #1b4e4e, #2c5f5f);
            color: white;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-1px);
            box-shadow: 0 6px 8px rgba(0, 0, 0, 0.4);
        }

        .btn-secondary {
            background: #334155;
            color: #f8fafc;
            border: 1px solid #374151;
        }

        .btn-danger {
            background: #ef4444;
            color: white;
        }

        /* Exercise List */
        .exercise-list {
            display: grid;
            gap: 12px;
        }

        .exercise-item {
            background: #334155;
            border: 1px solid #374151;
            border-radius: 12px;
            padding: 16px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .exercise-item:hover {
            background: #1e293b;
            border-color: #2c5f5f;
            transform: translateY(-1px);
        }

        .exercise-name {
            font-weight: 600;
            color: #f8fafc;
            margin-bottom: 4px;
        }

        .exercise-meta {
            font-size: 14px;
            color: #94a3b8;
        }

        /* Bottom Navigation */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: #2a2c2f;
            border-top: 1px solid #374151;
            display: flex;
            z-index: 100;
        }

        .nav-btn {
            flex: 1;
            padding: 12px 8px;
            background: none;
            border: none;
            color: #94a3b8;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 4px;
            transition: color 0.2s;
        }

        .nav-btn.active {
            color: #3d7070;
        }

        .nav-btn:hover {
            color: #f8fafc;
        }

        .nav-icon {
            font-size: 24px;
        }

        .nav-label {
            font-size: 12px;
            font-weight: 600;
        }

        /* Status */
        .status-message {
            background: #334155;
            border-radius: 8px;
            padding: 12px 16px;
            margin-bottom: 16px;
            border-left: 4px solid #10b981;
        }

        .demo-note {
            background: #1e293b;
            border: 1px solid #374151;
            border-radius: 8px;
            padding: 16px;
            margin-bottom: 20px;
            border-left: 4px solid #f59e0b;
        }

        .workout-log {
            background: #2a2c2f;
            border-radius: 8px;
            padding: 16px;
            margin-bottom: 16px;
        }

        .workout-item {
            background: #334155;
            border-radius: 6px;
            padding: 12px;
            margin-bottom: 8px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 16px;
            margin-bottom: 20px;
        }

        .stat-card {
            background: #2a2c2f;
            border: 1px solid #374151;
            border-radius: 12px;
            padding: 20px;
            text-align: center;
        }

        .stat-value {
            font-size: 32px;
            font-weight: 800;
            color: #3d7070;
            margin-bottom: 8px;
        }

        .stat-label {
            font-size: 14px;
            color: #94a3b8;
            font-weight: 500;
        }

        /* Hide elements initially */
        .hidden { display: none !important; }
    </style>
</head>
<body>
    <div class="app">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <h1 class="app-title">HyperTrack Pro</h1>
                <p class="app-subtitle">Evidence-Based Hypertrophy Optimization</p>
            </div>
            <div class="header-actions">
                <button class="settings-btn" onclick="switchTab('settings')" aria-label="Settings">
                    ‚öôÔ∏è
                </button>
            </div>
        </header>

        <!-- Research Banner -->
        <div class="research-banner">
            <div class="research-content">
                <span class="research-icon">üî¨</span>
                <p class="research-text" id="researchText">Dr. Eric Helms' research recommends 3.5% weekly progression for trained individuals</p>
            </div>
        </div>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Workout Tab -->
            <div id="workoutTab" class="tab-content active">
                <div class="demo-note">
                    <strong>üöÄ HyperTrack Pro - Fully Functional Demo</strong><br>
                    Complete workout tracking with exercise database, progress tracking, and data persistence. All features working!
                </div>
                
                <div id="workoutStatus" class="status-message">
                    Ready to start your workout session!
                </div>

                <div class="welcome-card" id="welcomeCard">
                    <h2>Ready to Train?</h2>
                    <p>Start a new workout session to begin tracking your progress with evidence-based training principles.</p>
                    <button class="btn btn-primary btn-large" onclick="startWorkout()">
                        <span class="btn-icon">üí™</span>
                        <span id="workoutBtnText">Start New Workout</span>
                    </button>
                </div>

                <div id="workoutActive" class="hidden">
                    <div class="workout-log">
                        <h3>Current Workout</h3>
                        <div id="workoutTimer">00:00</div>
                        <div id="currentExercises"></div>
                    </div>
                    
                    <button class="btn btn-danger" onclick="endWorkout()">End Workout</button>
                </div>

                <div id="exerciseSelection" class="hidden">
                    <h3>Select Exercise</h3>
                    <div class="exercise-list" id="exerciseList">
                        <!-- Populated by JavaScript -->
                    </div>
                </div>
            </div>

            <!-- History Tab -->
            <div id="historyTab" class="tab-content">
                <h2>Workout History</h2>
                <div id="historyList">
                    <div class="demo-note">
                        <strong>üìñ Workout History</strong><br>
                        Your completed workouts will appear here with detailed logs and progress tracking.
                    </div>
                </div>
            </div>

            <!-- Analytics Tab -->
            <div id="analyticsTab" class="tab-content">
                <h2>Progress Analytics</h2>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-value" id="totalWorkouts">0</div>
                        <div class="stat-label">Total Workouts</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="totalSets">0</div>
                        <div class="stat-label">Total Sets</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="totalVolume">0</div>
                        <div class="stat-label">Total Volume (lbs)</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="avgDuration">0</div>
                        <div class="stat-label">Avg Duration (min)</div>
                    </div>
                </div>
            </div>

            <!-- Settings Tab -->
            <div id="settingsTab" class="tab-content">
                <h2>Settings</h2>
                <div class="demo-note">
                    <strong>‚öôÔ∏è Application Settings</strong><br>
                    Configure your workout preferences and data management options.
                </div>
                
                <div style="margin: 20px 0;">
                    <button class="btn btn-secondary" onclick="clearData()">Clear All Data</button>
                    <button class="btn btn-secondary" onclick="exportData()">Export Data</button>
                </div>
            </div>
        </main>

        <!-- Bottom Navigation -->
        <nav class="bottom-nav">
            <button class="nav-btn active" onclick="switchTab('workout')" data-tab="workout">
                <div class="nav-icon">üí™</div>
                <div class="nav-label">Workout</div>
            </button>
            <button class="nav-btn" onclick="switchTab('history')" data-tab="history">
                <div class="nav-icon">üìñ</div>
                <div class="nav-label">History</div>
            </button>
            <button class="nav-btn" onclick="switchTab('analytics')" data-tab="analytics">
                <div class="nav-icon">üìä</div>
                <div class="nav-label">Analytics</div>
            </button>
            <button class="nav-btn" onclick="switchTab('settings')" data-tab="settings">
                <div class="nav-icon">‚öôÔ∏è</div>
                <div class="nav-label">Settings</div>
            </button>
        </nav>
    </div>

    <script>
        // HyperTrack Pro - Standalone Implementation
        const HyperTrack = {
            state: {
                currentWorkout: null,
                workoutStartTime: null,
                workouts: [],
                exercises: [
                    { id: 1, name: "Barbell Bench Press", muscle_group: "Chest", category: "Compound", mvc_percentage: 95 },
                    { id: 2, name: "Pull-ups", muscle_group: "Back", category: "Compound", mvc_percentage: 117 },
                    { id: 3, name: "Barbell Squats", muscle_group: "Legs", category: "Compound", mvc_percentage: 95 },
                    { id: 4, name: "Romanian Deadlifts", muscle_group: "Legs", category: "Compound", mvc_percentage: 90 },
                    { id: 5, name: "Overhead Press", muscle_group: "Shoulders", category: "Compound", mvc_percentage: 88 },
                    { id: 6, name: "Barbell Rows", muscle_group: "Back", category: "Compound", mvc_percentage: 93 },
                    { id: 7, name: "Incline Dumbbell Press", muscle_group: "Chest", category: "Compound", mvc_percentage: 90 },
                    { id: 8, name: "Dips", muscle_group: "Chest", category: "Compound", mvc_percentage: 85 }
                ],
                currentExercises: []
            },

            init() {
                this.loadData();
                this.renderExercises();
                this.updateStats();
                this.startResearchRotation();
                console.log('‚úÖ HyperTrack Pro initialized successfully');
            },

            renderExercises() {
                const list = document.getElementById('exerciseList');
                list.innerHTML = this.state.exercises.map(ex => `
                    <div class="exercise-item" onclick="HyperTrack.selectExercise(${ex.id})">
                        <div class="exercise-name">${ex.name}</div>
                        <div class="exercise-meta">${ex.muscle_group} ‚Ä¢ ${ex.category} ‚Ä¢ ${ex.mvc_percentage}% MVC</div>
                    </div>
                `).join('');
            },

            selectExercise(id) {
                const exercise = this.state.exercises.find(ex => ex.id === id);
                if (!exercise) return;

                const weight = prompt(`Enter weight for ${exercise.name} (lbs):`);
                const reps = prompt(`Enter reps for ${exercise.name}:`);
                
                if (weight && reps) {
                    this.addExerciseToWorkout(exercise, parseFloat(weight), parseInt(reps));
                }
            },

            addExerciseToWorkout(exercise, weight, reps) {
                this.state.currentExercises.push({
                    name: exercise.name,
                    weight: weight,
                    reps: reps,
                    time: new Date().toLocaleTimeString()
                });

                this.updateCurrentExercises();
                this.updateStatus(`Added ${exercise.name}: ${weight}lbs √ó ${reps} reps`);
            },

            updateCurrentExercises() {
                const container = document.getElementById('currentExercises');
                container.innerHTML = this.state.currentExercises.map(ex => `
                    <div class="workout-item">
                        <strong>${ex.name}</strong>: ${ex.weight}lbs √ó ${ex.reps} reps (${ex.time})
                    </div>
                `).join('');
            },

            updateStatus(message) {
                document.getElementById('workoutStatus').textContent = message;
            },

            startWorkout() {
                this.state.currentWorkout = {
                    id: Date.now(),
                    date: new Date().toISOString().split('T')[0],
                    startTime: new Date(),
                    exercises: []
                };
                this.state.workoutStartTime = Date.now();
                this.state.currentExercises = [];

                document.getElementById('welcomeCard').classList.add('hidden');
                document.getElementById('workoutActive').classList.remove('hidden');
                document.getElementById('exerciseSelection').classList.remove('hidden');

                this.updateStatus('Workout started! Select exercises below.');
                this.startTimer();
            },

            startTimer() {
                setInterval(() => {
                    if (!this.state.workoutStartTime) return;
                    
                    const elapsed = Math.floor((Date.now() - this.state.workoutStartTime) / 1000);
                    const minutes = Math.floor(elapsed / 60).toString().padStart(2, '0');
                    const seconds = (elapsed % 60).toString().padStart(2, '0');
                    
                    document.getElementById('workoutTimer').textContent = `${minutes}:${seconds}`;
                }, 1000);
            },

            endWorkout() {
                if (this.state.currentExercises.length === 0) {
                    alert('Add at least one exercise before ending workout!');
                    return;
                }

                this.state.currentWorkout.exercises = [...this.state.currentExercises];
                this.state.currentWorkout.duration = Math.floor((Date.now() - this.state.workoutStartTime) / 60000);
                this.state.workouts.unshift(this.state.currentWorkout);

                this.saveData();
                this.updateStats();
                this.updateHistory();

                // Reset UI
                document.getElementById('welcomeCard').classList.remove('hidden');
                document.getElementById('workoutActive').classList.add('hidden');
                document.getElementById('exerciseSelection').classList.add('hidden');

                this.state.currentWorkout = null;
                this.state.workoutStartTime = null;
                this.state.currentExercises = [];

                this.updateStatus(`Workout completed! ${this.state.workouts[0].exercises.length} exercises logged.`);
            },

            updateStats() {
                const totalWorkouts = this.state.workouts.length;
                const totalSets = this.state.workouts.reduce((sum, w) => sum + w.exercises.length, 0);
                const totalVolume = this.state.workouts.reduce((sum, w) => 
                    sum + w.exercises.reduce((exSum, ex) => exSum + (ex.weight * ex.reps), 0), 0);
                const avgDuration = totalWorkouts > 0 ? 
                    Math.round(this.state.workouts.reduce((sum, w) => sum + (w.duration || 0), 0) / totalWorkouts) : 0;

                document.getElementById('totalWorkouts').textContent = totalWorkouts;
                document.getElementById('totalSets').textContent = totalSets;
                document.getElementById('totalVolume').textContent = totalVolume.toLocaleString();
                document.getElementById('avgDuration').textContent = avgDuration;
            },

            updateHistory() {
                const container = document.getElementById('historyList');
                if (this.state.workouts.length === 0) {
                    container.innerHTML = `
                        <div class="demo-note">
                            <strong>üìñ No Workouts Yet</strong><br>
                            Complete your first workout to see your history here!
                        </div>
                    `;
                    return;
                }

                container.innerHTML = this.state.workouts.map(workout => `
                    <div class="workout-log">
                        <h4>Workout - ${workout.date}</h4>
                        <p><strong>Duration:</strong> ${workout.duration || 0} minutes</p>
                        <p><strong>Exercises:</strong> ${workout.exercises.length}</p>
                        <div style="margin-top: 8px;">
                            ${workout.exercises.map(ex => `
                                <div class="workout-item">${ex.name}: ${ex.weight}lbs √ó ${ex.reps}</div>
                            `).join('')}
                        </div>
                    </div>
                `).join('');
            },

            startResearchRotation() {
                const facts = [
                    "Dr. Eric Helms' research recommends 3.5% weekly progression for trained individuals",
                    "Research shows 2-3 minutes rest between compound exercises maximizes performance",
                    "Studies show 10-20 sets per muscle per week optimizes hypertrophy",
                    "Training each muscle 2x per week maximizes protein synthesis response",
                    "Both heavy (4-6) and moderate (8-12) rep ranges build muscle effectively"
                ];

                let index = 0;
                setInterval(() => {
                    document.getElementById('researchText').textContent = facts[index];
                    index = (index + 1) % facts.length;
                }, 10000);
            },

            saveData() {
                try {
                    localStorage.setItem('hypertrack-workouts', JSON.stringify(this.state.workouts));
                } catch (e) {
                    console.warn('Could not save to localStorage:', e);
                }
            },

            loadData() {
                try {
                    const saved = localStorage.getItem('hypertrack-workouts');
                    if (saved) {
                        this.state.workouts = JSON.parse(saved);
                    }
                } catch (e) {
                    console.warn('Could not load from localStorage:', e);
                }
            }
        };

        // Global functions for onclick handlers
        function startWorkout() { HyperTrack.startWorkout(); }
        function endWorkout() { HyperTrack.endWorkout(); }

        function switchTab(tabName) {
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            document.getElementById(tabName + 'Tab').classList.add('active');
            document.querySelector(`[data-tab="${tabName}"]`).classList.add('active');
        }

        function clearData() {
            if (confirm('Clear all workout data? This cannot be undone.')) {
                HyperTrack.state.workouts = [];
                HyperTrack.saveData();
                HyperTrack.updateStats();
                HyperTrack.updateHistory();
                HyperTrack.updateStatus('All data cleared!');
            }
        }

        function exportData() {
            const data = {
                workouts: HyperTrack.state.workouts,
                exportDate: new Date().toISOString()
            };
            
            const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `hypertrack-data-${new Date().toISOString().split('T')[0]}.json`;
            a.click();
            URL.revokeObjectURL(url);
        }

        // Initialize when page loads
        document.addEventListener('DOMContentLoaded', () => {
            HyperTrack.init();
        });
    </script>
</body>
</html>